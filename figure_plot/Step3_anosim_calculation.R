library(tidyverse)
library(vegan)
table_1 <- read_tsv("./raw_data/Bacteria_Archaea4.txt")
table_1_0cm <- table_1 %>%filter(.,Depth=="0")
table_1_5cm <- table_1 %>%filter(.,Depth=="5")
table_1_10cm <- table_1 %>%filter(.,Depth=="10")
table_1_15cm <- table_1 %>%filter(.,Depth=="15")
table_1_20cm <- table_1 %>%filter(.,Depth=="20")
table_1_25cm <- table_1 %>%filter(.,Depth=="25")
table_1_30cm <- table_1 %>%filter(.,Depth=="30")

com_0cm <- as.matrix(table_1_0cm[,3:ncol(table_1)])
com_5cm <- as.matrix(table_1_5cm[,3:ncol(table_1)])
com_10cm <- as.matrix(table_1_10cm[,3:ncol(table_1)])
com_15cm <- as.matrix(table_1_15cm[,3:ncol(table_1)])
com_20cm <- as.matrix(table_1_20cm[,3:ncol(table_1)])
com_25cm <- as.matrix(table_1_25cm[,3:ncol(table_1)])
com_30cm <- as.matrix(table_1_30cm[,3:ncol(table_1)])
com_0_30cm <- as.matrix(table_1[,3:ncol(table_1)])

com_0cm_anosim <- anosim(com_0cm, table_1_0cm$Biosphare, distance = "bray", permutations = 9999)
com_5cm_anosim <- anosim(com_5cm, table_1_5cm$Biosphare, distance = "bray", permutations = 9999)
com_10cm_anosim <- anosim(com_10cm, table_1_10cm$Biosphare, distance = "bray", permutations = 9999)
com_15cm_anosim <- anosim(com_15cm, table_1_15cm$Biosphare, distance = "bray", permutations = 9999)
com_20cm_anosim <- anosim(com_20cm, table_1_20cm$Biosphare, distance = "bray", permutations = 9999)
com_25cm_anosim <- anosim(com_25cm, table_1_25cm$Biosphare, distance = "bray", permutations = 9999)
com_30cm_anosim <- anosim(com_30cm, table_1_30cm$Biosphare, distance = "bray", permutations = 9999)
com_0_30cm_anosim <- anosim(com_0_30cm, table_1$Biosphare, distance = "bray", permutations = 9999)

com_0cm_permanova <- adonis(com_0cm ~ Biosphare,data = table_1_0cm,permutations = 9999,method="bray")
com_5cm_permanova <- adonis(com_5cm ~ Biosphare,data =table_1_5cm, permutations = 9999,method="bray")
com_10cm_permanova <- adonis(com_10cm ~ Biosphare,data = table_1_10cm, permutations = 9999,method="bray")
com_15cm_permanova <- adonis(com_15cm ~ Biosphare,data = table_1_15cm, permutations = 9999,method="bray")
com_20cm_permanova <- adonis(com_20cm ~ Biosphare,data = table_1_20cm, permutations = 9999,method="bray")
com_25cm_permanova <- adonis(com_25cm ~ Biosphare,data = table_1_25cm, permutations = 9999,method="bray")
com_30cm_permanova <- adonis(com_30cm ~ Biosphare,data = table_1_30cm, permutations = 9999,method="bray")
com_0_30cm_permanova <- adonis(com_0_30cm ~ Biosphare,data = table_1, permutations = 9999,method="bray")

