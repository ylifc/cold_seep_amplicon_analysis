source("./calculation_code/Step2_rel_abu_calculation_and_sampling_information_collection.R")

table_1_0cm <- table_1 %>%filter(.,depth=="0")
table_1_5cm <- table_1 %>%filter(.,depth=="5")
table_1_10cm <- table_1 %>%filter(.,depth=="10")
table_1_15cm <- table_1 %>%filter(.,depth=="15")
table_1_20cm <- table_1 %>%filter(.,depth=="20")
table_1_25cm <- table_1 %>%filter(.,depth=="25")
table_1_30cm <- table_1 %>%filter(.,depth=="30")
table_1_5_30cm <- table_1 %>%filter(.,depth!="0")

com_0cm <- as.matrix(table_1_0cm[,5:ncol(table_1)])
com_5cm <- as.matrix(table_1_5cm[,5:ncol(table_1)])
com_10cm <- as.matrix(table_1_10cm[,5:ncol(table_1)])
com_15cm <- as.matrix(table_1_15cm[,5:ncol(table_1)])
com_20cm <- as.matrix(table_1_20cm[,5:ncol(table_1)])
com_25cm <- as.matrix(table_1_25cm[,5:ncol(table_1)])
com_30cm <- as.matrix(table_1_30cm[,5:ncol(table_1)])
com_all_layers <- as.matrix(table_1[,5:ncol(table_1)])
com_5_30cm <- as.matrix(table_1_5_30cm[,5:ncol(table_1)])

com_0cm_anosim <- anosim(com_0cm, table_1_0cm$biosphare, distance = "bray", permutations = 9999)
com_5cm_anosim <- anosim(com_5cm, table_1_5cm$biosphare, distance = "bray", permutations = 9999)
com_10cm_anosim <- anosim(com_10cm, table_1_10cm$biosphare, distance = "bray", permutations = 9999)
com_15cm_anosim <- anosim(com_15cm, table_1_15cm$biosphare, distance = "bray", permutations = 9999)
com_20cm_anosim <- anosim(com_20cm, table_1_20cm$biosphare, distance = "bray", permutations = 9999)
com_25cm_anosim <- anosim(com_25cm, table_1_25cm$biosphare, distance = "bray", permutations = 9999)
com_30cm_anosim <- anosim(com_30cm, table_1_30cm$biosphare, distance = "bray", permutations = 9999)
com_all_layers_anosim <- anosim(com_all_layers, table_1$biosphare, distance = "bray", permutations = 9999)
com_5_30cm_anosim <- anosim(com_5_30cm, table_1_5_30cm$biosphare, distance = "bray", permutations = 9999)
